<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CUIDADO Form</title>
  <link rel="stylesheet" href="FillUp.css">
</head>
<body>
  <div class="container">
    <div class="form-box">
      <img src="logo (2).png" alt="CUIDADO Logo" class="logo">

      <form id="cuidadoForm">
        
        <label for="email">Email:</label>
        <input type="text" id="email" placeholder="Enter email">

        <label for="birthday">Birthday:</label>
        <input type="date" id="birthday">

        <label for="sex">Sex:</label>
        <select id="sex">
          <option value="">Select sex</option>
          <option value="Female">Female</option>
          <option value="Male">Male</option>
        </select>


        <button type="submit">Save</button>
      

        <p id="errorMsg"></p>
      </form>
    </div>
  </div>

  <script>
    const form = document.getElementById('cuidadoForm');
    const emailInput = document.getElementById('email');
    const birthdayInput = document.getElementById('birthday');
    const sexInput = document.getElementById('sex');
    const errorMsg = document.getElementById('errorMsg');

    // Limit birthday max year
    birthdayInput.max = "2025-12-31";

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      errorMsg.textContent = "";

      const email = emailInput.value.trim();
      const birthday = birthdayInput.value;
      const sex = sexInput.value;
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      // Email validation
      if (email === "") {
        showError("Please enter your email.");
        return;
      }
      if (!emailPattern.test(email)) {
        showError("Please enter a valid email address.");
        return;
      }

      // Birthday validation
      if (birthday === "") {
        showError("Please select your birthday.");
        return;
      }
      if (birthday > "2025-12-31") {
        showError("Please select a birthday from 2025 or earlier.");
        return;
      }

      // Sex validation
      if (sex === "") {
        showError("Please select your sex.");
        return;
      }

      // Success = redirect
      errorMsg.style.color = "green";
      errorMsg.textContent = "Saved successfully! Redirecting...";

      setTimeout(() => {
        window.location.href = "../homepage/Userhomepage.html";
      }, 800);

    });

    function showError(message) {
      errorMsg.textContent = message;
      errorMsg.style.color = "red";
    }
  </script>
</body>
</html>